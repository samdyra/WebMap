!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],n):n((e||self).useLongPress={},e.react)}(this,function(e,n){function t(){return(t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}var o,r;function u(e){var n=e.nativeEvent;return window.TouchEvent?n instanceof TouchEvent:"touches"in n}function c(e){return e.nativeEvent instanceof MouseEvent}function s(e){return u(e)?{x:e.touches[0].pageX,y:e.touches[0].pageY}:c(e)?{x:e.pageX,y:e.pageY}:null}e.LongPressEventReason=void 0,(o=e.LongPressEventReason||(e.LongPressEventReason={})).CANCELED_BY_MOVEMENT="canceled-by-movement",o.CANCELED_BY_TIMEOUT="canceled-by-timeout",e.LongPressDetectEvents=void 0,(r=e.LongPressDetectEvents||(e.LongPressDetectEvents={})).BOTH="both",r.MOUSE="mouse",r.TOUCH="touch",e.useLongPress=function(o,r){var i=void 0===r?{}:r,a=i.threshold,f=void 0===a?400:a,v=i.captureEvent,l=void 0!==v&&v,E=i.detect,d=void 0===E?e.LongPressDetectEvents.BOTH:E,g=i.cancelOnMovement,h=void 0!==g&&g,p=i.filterEvents,M=i.onStart,T=i.onMove,L=i.onFinish,y=i.onCancel,C=n.useRef(!1),O=n.useRef(!1),P=n.useRef(),b=n.useRef(o),x=n.useRef(null),m=n.useCallback(function(e){return function(n){if(!O.current&&(c(n)||u(n))&&(void 0===p||p(n))){x.current=s(n),l&&n.persist();var t=void 0===e?{}:{context:e};null==M||M(n,t),O.current=!0,P.current=setTimeout(function(){b.current&&(b.current(n,t),C.current=!0)},f)}}},[l,p,M,f]),D=n.useCallback(function(n,o){return function(r){if(c(r)||u(r)){x.current=null,l&&r.persist();var s=void 0===n?{}:{context:n};C.current?null==L||L(r,s):O.current&&(null==y||y(r,t({},s,{reason:null!=o?o:e.LongPressEventReason.CANCELED_BY_TIMEOUT}))),C.current=!1,O.current=!1,void 0!==P.current&&clearTimeout(P.current)}}},[l,L,y]),R=n.useCallback(function(n){return function(t){if(null==T||T(t,{context:n}),h&&x.current){var o=s(t);if(o){var r=!0===h?25:h,u={x:Math.abs(o.x-x.current.x),y:Math.abs(o.y-x.current.y)};(u.x>r||u.y>r)&&D(n,e.LongPressEventReason.CANCELED_BY_MOVEMENT)(t)}}}},[D,h,T]);return n.useEffect(function(){return function(){void 0!==P.current&&clearTimeout(P.current)}},[]),n.useEffect(function(){b.current=o},[o]),n.useMemo(function(){return function(n){var r={onMouseDown:m(n),onMouseMove:R(n),onMouseUp:D(n),onMouseLeave:D(n)},u={onTouchStart:m(n),onTouchMove:R(n),onTouchEnd:D(n)};return null===o?{}:d===e.LongPressDetectEvents.MOUSE?r:d===e.LongPressDetectEvents.TOUCH?u:t({},r,u)}},[o,D,d,R,m])}});
//# sourceMappingURL=index.umd.js.map
